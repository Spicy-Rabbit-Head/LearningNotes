# MySQL

关系型数据库，使用SQL(结构化查询语言)操作

+ 创建配置文件

创建my.ini文本文件并添加如下

```mysql
[mysqld]

port=2333
# 端口

basedir=C:\A\1work documents\MySQL\mysql-5.7.38-winx64
# 数据库目录

datadir=C:\A\1work documents\MySQL\mysql-5.7.38-winx64\data
# 数据库创建文件目录
```

+ 初始化数据库

会根据配置文件创建文件目录方便数据存放，并创建默认账户

```mysql
"C:\A\1work documents\MySQL\mysql-5.7.38-winx64\bin\mysqld.exe" --initialize-insecure
```

+ 终端临时启动

```mysql
"xxxxxxxxxxxxxxx\bin\mysqld.exe"
```

+ 制作服务

```mysql
"C:\A\1work documents\MySQL\mysql-5.7.38-winx64\bin\mysqld.exe" --install mysql57
# mysqld.exe地址 + 安装 + 自定义名字
net start mysql57
# 启动服务
net stop mysql57
# 停止服务
"C:\A\1work documents\MySQL\mysql-5.7.38-winx64\bin\mysqld.exe" --remove mysql57
# 卸载服务
```

+ 启动mysql

```mysql
mysql -P 2333 -u root -p
# 端口 用户名 密码输入
```

+ 设定和修改root密码

```mysql
set password = password("xxxxxx");
```

+ 忘记密码

修改配置文件后重启

```mysql
skip-grant-tables=1
```

```mysql
use mysql;
update user set authenticatication_string = password('xxxx'),password_last_changed=now() where user='root';
```

再删除修改项\

+ 数据库管理

```mysql
数据库——————————文件夹
数据表——————————文件夹下excel文件
```

+ 查询时区

```mysql
show variables like'%time_zone%';
```

+ 设定时区

```mysql
set time_zone='+0:00';
```

+ 查看当前所以账户

```sql
select user,authentication_string,host from mysql.user;		# 输出 账户，身份验证字符串，ip地址
```

+ 查看账户权限

```sql
desc mysql.user;
```

+ 创建账户

```sql
create user xxxxxx@'%' identified by 'xxxxxx';
# 可限制IP
```

+ 删除账户

```sql
drop user xxxxxx@'%';
```

+ 修改账户

```sql
rename user xxxxxx@'%' to xxxxxx@'localhost';
```

+ 修改账户密码

```sql
set password for xxxxxx@'%'=Passwor('xxxxxx');
```

## 授权

```sql
grant all privileges on *.* TO xxxxxx@'localhost';			# 用户xx拥有所有数据库的所有权限
——————————————————————————————————————————————————————————————————————————————————————————————
grant all privileges on 库名.* TO xxxxxx@'localhost';			# 用户xx拥有xx数据库的所有权限
——————————————————————————————————————————————————————————————————————————————————————————————
grant all privileges on 库名.表名 TO xxxxxx@'localhost';		# 用户xx拥有xx数据库xx表的所有权限
——————————————————————————————————————————————————————————————————————————————————————————————
grant select on 库名.表名 TO xxxxxx@'localhost';				# 用户xx拥有xx数据库xx表的查询权限
——————————————————————————————————————————————————————————————————————————————————————————————
grant select,insert on 库名.表名 TO xxxxxx@'localhost';				# 用户xx拥有xx数据库xx表的查询和插入权限
```

+ 查看授权

```sql
show grants for xxxxxx@'localhost';
```

+ 取消授权

```sql
revoke all privileges on xxx.xxx from xxxxxx@'localhost';
```

+ 立即生效

```sql
flush privileges;
```

# MySQL-命令

+ 查看当前数据库列表

```mysql
show databases;
```

+ 退出mysql

```mysql
exit;
```

+ 创建数据库

```mysql
create database 数据库名 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;
# 创建 文件名 文件编码 数据编码
```

+ 删除数据库

```mysql
drop database 数据库名;
```

+ 进入数据库

```mysql
use 数据库名;
```

+ 查看数据库内表

```mysql
show tables;
```

+ 创建数据表

```mysql
create table db1(
# 创建表名
id int,
name varchar(16) not null # 此列不许为空
eies varchar(32) null	  # 允许为空
# 列名 类型
)default charset=utf8;
# 定义数据类型
——————————————————————————————————
create table db2(
id int,
name varchar(16),
di int default 3  # 设定默认值
)default charset=utf8;
——————————————————————————————————
create table db3(
id int primary key, # 主键不能为空，不能重复
name varchar(16),
di int 
)default charset=utf8;
——————————————————————————————————
create table db4(
id int not null auto_increment primary key, # 自增主键
name varchar(16),
di int 
)default charset=utf8;
```

+ 删除数据表

```mysql
drop table 数据表名;
```

+ 清空数据表

```mysql
delete from 数据表名;
————————————————————
truncate table 数据表名;
# 速度快，无法撤销回滚
```

## 表内容查询

```mysql
desc 表名
```

## 修改表

+ 表添加类型

```mysql
alter table 表名 add 列名 类型;	
————————————————————————————————————
alter table 表名 add 列名 类型 not null default 3;
						 #是否允许为空 # 设定默认值
————————————————————————————————————
alter table 表名 add 列名 类型 not null auto_increment primary key;
						 #是否允许为空    # 定义自增主键
```

+ 表删除类型

```mysql
alter table 表名 drop column 列名;
```

+ 表修改-类型

```mysql
alter table 表名 modify column 列名 类型;
```

+ 表修改-类型 + 名称

```mysql
alter table 表名 change 原列名 新列名 新类型;
```

+ 表修改-默认值

```mysql
alter table 表名 alter 列名 set default 设定默认值;
# 修改添加默认值
alter table 表名 alter 列名 drop default;
# 删除默认值
```

+ 表修改-添加主键

```mysql
alter table 表名 add primary key(列名);
```

+ 表修改-删除主键

```mysql
alter table 表名 drop primary key;
```

+ 表修改-添加外键

```sql
alter table 表名1 add constraint fk_表名1_表名2 foreign key 表名1(列名)references 表名2(外面列名);
```

+ 表修改-删除外键

```sql
alter table 表名1 drop foreign key fk_表名1_表名2;
```

## 数据表类型

### 整型

+ int---大整数值

```mysql
int------有符号整型:-2147483648~2147483647		储存：4字节
——————————————————————————————————————————————————————————
int unsigned------无符号整型:0~4294967295		储存：4字节
——————————————————————————————————————————————————————————
int(5)zerofill------仅做显示，不足n位时补零		储存：4字节
```

+ tinyint---小整数值

```mysql
tinyint-------有符号整型:-128~127					储存：1字节
_______________________________________________________________
tinyint unsigned------无符号整型:0~255				储存：1字节
_______________________________________________________________
tinyint(5)zerofill------仅做显示，不足n位时补零		储存：1字节
```

+ bigint---极大整数值

```mysql
bigint------有符号整型:-2的63次方~2的63次方-1			储存：8字节
_______________________________________________________________
bigint unsigned------无符号整型：0~2的64次方-1		  储存：8字节
_______________________________________________________________
bigint(5)zerofill------仅做显示，不足n位时补零			储存：8字节
```

### 小数

准确的小数值，m代表数字总数，d代表小数点后个数，m最大65，d最大30。

+ decimal---小数值

```mysql
decimal------有符号小数：依赖于M和D的值					   储存：对DECIMAL(M,D) ，如果M>D，为M+2否则为D+2
_____________________________________________________________________________________________________
decimal unsigned------无符号小数：依赖于M和D的值		    储存：对DECIMAL(M,D) ，如果M>D，为M+2否则为D+2
_____________________________________________________________________________________________________
decimal(5)zerofill------仅做显示，不足n位时补零			储存：对DECIMAL(M,D) ，如果M>D，为M+2否则为D+2
```

+ float---单精度浮点数值

```mysql
float------有符号小数：(-3.402823466 E+38，-1.175494351 E-38)，0，(1.175494351 E-38，3.402823466351 E+38)					   
储存：4字节
_______________________________________________________________________________________________________
float unsigned------无符号小数：0，(1.175494351 E-38，3.402823466 E+38)		    
储存：4字节
_______________________________________________________________________________________________________
float(5)zerofill------仅做显示，不足n位时补零			
储存：4字节
```

+ double---双精度浮点数值

```mysql
double------有符号小数：(-1.7976931348623157 E+308，-2.2250738585072014 E-308)，0，(2.2250738585072014 E-308，1.7976931348623157 E+308)
储存：8字节
——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
double unsigned------无符号小数：0，(2.2250738585072014 E-308，1.7976931348623157 E+308)
储存：8字节
——————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————
double(5)zerofill------仅做显示，不足n位时补零			
储存：8字节
```

### 字符串

+ char(m)---定长字符串

```mysql
char------m代表设定长度，内容小于m也会占用m长度			范围：255字节
```

+ varchar(m)---变长字符串

```mysql
varchar------m代表设定长度，实际内容是多少就占用多少长度	  范围：66535字节
```

+ text---长文本数据

```mysql
text------容纳范围：65535字节
```

+ mediumtext---中等长度文本数据

```mysql
mediumtext------容纳范围：16777215字节
```

+ longtext---极大文本数据

```mysql
longtext------容纳范围：4294967295字节
```

### 时间

+ datetime---混合日期和时间值

```mysql
datetime------插入什么，输出什么			范围：1000-01-01~9999-12-31
```

+ timestamp---混合日期和时间值，时间戳

```mysql
timestimp------插入什么，装换为UTC时间储存，输出时装换为当前时区时间		范围：1970-01-01 00:00:00/2038
```

+ year---年份值

```mysql
year------设定年份值						范围：1901/2155
```

+ date---日期值

```mysql
date------设定日期值						范围：	1000-01-01/9999-12-31
```

## 数据表增删改查

+ 添加数据表数据

```mysql
insert into 表名(列名,列名,列名) values("数据","数据","数据");
insert into 表名(列名,列名,列名) values("数据","数据","数据"),("数据","数据","数据");
# 可同时添加多条数据
```

+ 删除数据表数据

```sql
delete from 表名;			# 表数据清空
——————————————————————————————————————————————————————————————————————————————————————————
delete from 表名 where 列名='数据';		# 判断，如果判断成立即删除
——————————————————————————————————————————————————————————————————————————————————————————
delete from 表名 where 列名='数据' and 列名='数据';	# 判断，如果判断成立即删除
——————————————————————————————————————————————————————————————————————————————————————————
delete from 表名 where 列名='数据' or 列名='数据';	# 判断，如果判断成立即删除
——————————————————————————————————————————————————————————————————————————————————————————
delete from 表名 where 列名<比较数据;				# 比较，如果比较成立即删除
```

+ 修改数据表数据

```sql
update 表名 set 列名='xxx';		# 将xx列数据统一修改相同值
__________________________________________________________________________________________
update 表名 set 列名='xxx' where 判断列名=判断数据;	# 判断，如果判断成立，即修改xxx
__________________________________________________________________________________________
update 表名 set 列名=列名+xx where 判断列名=判断数据;	# 判断，如果判断成立，即在该列数据值上进行运算
__________________________________________________________________________________________
update 表名 set 列名='xxx' where 比较列名>比较数据;	 # 比较，如果比较成立，即修改xxx或进行运算
__________________________________________________________________________________________
update 表名 set 列名=concat(列名,'233') where 判断或比较列名=判断或比较数据;	# 比较或判断，如果成立，进行数据拼接
```

+ 查询数据表数据

```sql
select * from 表名;		# 打印该表所有的数据
——————————————————————————————————————————————————————————————————————————————————————————
select 列名,列名 from 表名;	# 打印该表指定列的数据
——————————————————————————————————————————————————————————————————————————————————————————
select 列名,列名 as 定义别名 from 表名;	# 打印该表指定列的数据，并定义列别名
——————————————————————————————————————————————————————————————————————————————————————————
select 列名,列名,添加额外 from 表名;		# 打印该表指定列的数据，并添加额外列数据，也可定义列名
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 where 判断或比较列名=判断或比较数据;		# 打印判断比较成立的数据
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 where 列名='判断列名' and 列名='判断列名';		# 打印判断比较成立的数据
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 where 列名 in (x,x,x);					# 判断，Ture则打印False则为空
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 where 列名 not in (x,x,x);				# 判断，in取反		
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 where 列名 in(select 外部列名 from 外部表);		# 判断，引入外部表x列进行比较，输出Ture值	
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 where exists (select * from 外部表 where 外部列名=判断数据);	# 引入外部判断，存在即输出
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 where not exists (select * from 外部表 where 外部列名=判断数据);	# 引入外部判断，不存在即输出
——————————————————————————————————————————————————————————————————————————————————————————
select * from (select * from 表名 where 列名>一级判断) as 一级判断获得的临时表 where 临时表列名 >二级判断;
# 先进行一级判断，生成的临时表自定义表名，再用生成的表进行二级判断，并输出
```

+ 查询数据表数据---通配符

```sql
select * from 表名 where 列名 like "%X%";		# %为任意符,代表N个字符，前后中间皆可
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 where 列名 like "_xxxx";		# _为空字符，几个_代表几个字符，前后中间皆可
```

+ 查询数据表数据---映射

```sql
select 列名,列名,(select max(外部列名) from 外面表名)as 定义列名,列名 from 表名;
# 获取外部表中定义列最大值，命名并映射
——————————————————————————————————————————————————————————————————————————————————————————
select 列名,列名,(select min(外部列名) from 外面表名)as 定义列名,列名 from 表名;
# 获取外部表中定义列最小值，命名并映射
——————————————————————————————————————————————————————————————————————————————————————————
select 列名,列名,(select sum(外部列名) from 外面表名)as 定义列名,列名 from 表名;
# 获取外部表中定义列总和，命名并映射
——————————————————————————————————————————————————————————————————————————————————————————
select 列名,列名,(select 外部列名 from 外部表名 where 外部表名.外部列名=表名.比较列名) as 外部命名 from 表名;
# 判断成立即映射
——————————————————————————————————————————————————————————————————————————————————————————
select 列名,列名,case 列名 when 判断量 then '判断成功输出' when 判断量 then '判断成功输出' else '判断失败输出' end 新列名 from 表名;
# 判断成立即映射某项，失败映射某项，也可进行比较
```

+ 查询数据表数据---排序

```mysql
select * from 表名 order by 列名 desc;			# 倒叙排序输出
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 order by 列名 asc;			# 顺序排序输出
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 order by 一级列名 asc,二级列名 desc;	# 优先按一级列名值进行排序，如果值相等则按二级列名值排序

```

+ 查询数据表数据---取部分

```sql
select * from 表名 limit 取数;				# 指定表名从前开始取N行值
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 order by 列名 desc limit 取数;			# 指定表名先排序，再从前开始取N行值
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名 limit 取值 offset 起始值;			  # 指定表名从起始行开始取N行值
```

+ 查询数据表数据---分组

```sql
select 取值列名,avg(列名) from 表名 group by 取值列名;	# avg取平均值
——————————————————————————————————————————————————————————————————————————————————————————
select 取值列名,count(列名) from 表名 group by 取值列名;	# count返回行数
——————————————————————————————————————————————————————————————————————————————————————————
select 取值列名,sum(列名) from 表名 group by 取值列名;		# sum计算总和
——————————————————————————————————————————————————————————————————————————————————————————
select 取值列名,max(列名) from 表名 group by 取值列名;		# max返回最大值
——————————————————————————————————————————————————————————————————————————————————————————
select 取值列名,min(列名) from 表名 group by 取值列名;		# min返回最小值
——————————————————————————————————————————————————————————————————————————————————————————
select 取值列名,count(列名) from 表名 group by 取值列名 having count(列名) > 判断值;
# 分组后进行二次判断
```

+ 查询数据表数据---左右连表

```sql
select * from 主表名 left outer join 副表名 on 主表名.主列名=副表名.副列名;
# 以左表为主表进行连表
——————————————————————————————————————————————————————————————————————————————————————————
select 表名.列名,表名.列名,表名.列名,表名.列名 from 主表名 left outer join 副表名 on 主表名.主列名=副表名.副列名;
# 以左表为主表进行指定列连表
——————————————————————————————————————————————————————————————————————————————————————————
select * from 副表名 right outer join 主表名 on 副表名.副列名=主表名.主列名;
# 以右表为主表进行连表
——————————————————————————————————————————————————————————————————————————————————————————
select 表名.列名,表名.列名,表名.列名,表名.列名 from 副表名 right outer join 主表名 on 副表名.副列名=主表名.主列名;
# 以右表为主表进行指定列连表
——————————————————————————————————————————————————————————————————————————————————————————
select * from 表名1 inner join 表名2 on 表名1.列名=表名2.列名;
# 内连接不分主次相互匹配
```

+ 查询数据表数据---上下连表

```sql
select 列名,列名 from 表名1 union select 列名,列名 from 表名2;
# 上下拼接输出
——————————————————————————————————————————————————————————————————————————————————————————
select 列名 from 表名1 union select 列名 from 表名2;
# 拼接并去重输出
——————————————————————————————————————————————————————————————————————————————————————————
select 列名 from 表名1 union all select 列名 from 表名2;
# 拼接，不会去重全部输出
```

# PyMySQL

+ 连接mysql

```python
a = pymysql.connect(host='127.0.0.1',port=2333,user='root',password='666666',charset='utf8',db='db25')
# connect(IP地址,端口号,用户名,密码,编码格式,预进入数据库)
a1 = a.cursor()
# 创建游标对象
```

+ 查看数据库

```python
a1.execute('show databases')
# 发送指令
b = a1.fetchall()
# 接收全部
print(b)
```

+ 创建数据库

```python
a1.execute('create database dw5 DEFAULT CHARSET utf8 COLLATE utf8_general_ci;')
# 发送数据库创建指令
a.commit()
# 提交事务，更新进程
```

+ 删除数据库

```python
a1.execute('drop database holle')
# 发送删除数据库指令
a.commit()
# 提交事务，更新进程
```

+ 进入数据库-查看数据表

```python
a1.execute('use mysql')
# 进入数据库
a1.execute('show tables')
# 查看数据库内表
b = a1.fetchall()
# 接收数据库返回值
print(b)
```

+ 断开连接

```python
a1.close()
# 端开游标连接
a.close()
# 断开数据库连接
```

+ 接收数据库返回值

```python
b = a1.fetchone()
# 返回单个的元组，也就是一条返回值，如果没有结果 则返回 None
b1 = a1.fetchall()
# 返回多个元组，即返回多个返回值, 如果没有结果 则返回 null
b2 = a1.fetchmany(3)
# 返回N个元组，即返回多个返回值, 默认读取一个值，可指定接收值数
```

+ 创建数据表

```python
sql = """create table db5(
id int not null auto_increment primary key,
name varchar(16),
nian int
)default charset=utf8
"""
# 数据表创建指令
a1.execute(sql)
# 发送
a.commit()
# 提交事务，更新进程
```

+ 删除数据表

```python
a1.execute('drop table 表名')
# 发送删除表指令
a.commit()
# 提交事务，更新进程
```

+ 清空数据表

```python
a1.execute('delete from 表名')
# 发送清空指令
a1.execute('truncate table 数据表名')
# 速度快，无法回滚撤销
```

+ 数据表内容设定查询

```python
a1.execute('desc 表名')
# 查看数据表内容设定
b = a1.fetchall()
# 接收数据库返回值
print(b)
```

+ 表添加类型

```py
a1.execute('alter table 表名 add 列名 类型')
# 向数据表内添加类型
a.commit()
# 提交事务，更新进程
```

+ 表删除类型

```py
a1.execute('alter table 表名 drop column 列名')
# 删除数据表内类型
a.commit()
# 提交事务，更新进程
```

+ 表修改-类型

```py
a1.execute('alter table 表名 modify column 列名 类型')
# 修改数据表内某列类型
a.commit()
# 提交事务，更新进程
```

+ 表修改-类型 + 名称

```py
a1.execute('alter table 表名 change 旧列名 新列名 新类型')
# 修改数据表内列名及类型
a.commit()
# 提交事务，更新进程
```

+ 表修改-默认值

```py
a1.execute('alter table 表名 alter 列名 set default 设定默认值')
# 修改添加默认值
a.commit()
# 提交事务，更新进程
———————————————————————————————————————————————————————————————
a1.execute('alter table 表名 alter 列名 drop default')
# 删除默认值
a.commit()
# 提交事务，更新进程
```

+ 表修改-添加主键

```py
a1.execute('alter table 表名 add primary key(列名)')
# 添加主键
a.commit()
# 提交事务，更新进程
```

+ 表添加-删除主键

```py
a1.execute('alter table 表名 drop primary key')
# 删除主键
a.commit()
# 提交事务，更新进程
```

## PyMySQL增删改查

+ 添加数据表数据

```py
a1.execute('insert into 表名(列名,列名,列名) values("数据","数据","数据")')
# 向数据表添加数据
a.commit()
# 提交事务，更新进程
——————————————————————————————————————————————————————————————————————————————————————
a1.execute('insert into 表名(列名,列名,列名) values("数据","数据","数据"),("数据","数据","数据")')
# 向数据表添加多行数据
a.commit()
# 提交事务，更新进程
```

+ 删除数据表数据

```python
a1.execute('delete from 表名')
# 所有数据删除
a.commit()
# 提交事务，更新进程
——————————————————————————————————————————————————————————————————————————————————————
a1.execute('delete from 表名 where 列名="数据"')
# 判断，如果判断成立即删除
a.commit()
# 提交事务，更新进程
——————————————————————————————————————————————————————————————————————————————————————
a1.execute('delete from 表名 where 列名="数据" and 列名="数据"')
# 判断，如果判断成立即删除
a.commit()
# 提交事务，更新进程
——————————————————————————————————————————————————————————————————————————————————————
a1.execute('delete from 表名 where 列名="数据" or 列名="数据"')
# 判断，如果判断成立即删除
a.commit()
# 提交事务，更新进程
——————————————————————————————————————————————————————————————————————————————————————
a1.execute('delete from 表名 where 列名<比较数据')
# 判断，如果判断成立即删除
a.commit()
# 提交事务，更新进程
```

+ 修改数据表数据

```py
a1.execute('update 表名 set 列名="xxx"')
# 将xx列数据统一修改相同值
a.commit()
# 提交事务，更新进程
__________________________________________________________________________________________
a1.execute('update 表名 set 列名="xxx" where 判断列名="判断数据"')
# 判断，如果判断成立，即修改xxx
a.commit()
# 提交事务，更新进程
__________________________________________________________________________________________
a1.execute('update 表名 set 列名=列名+xx where 判断列名="判断数据"')
# 判断，如果判断成立，即在该列数据值上进行运算
a.commit()
# 提交事务，更新进程
__________________________________________________________________________________________
a1.execute('update 表名 set 列名="xxx" where 比较列名>比较数据')
# 判断，如果判断成立，即在该列数据值上进行运算
a.commit()
# 提交事务，更新进程
__________________________________________________________________________________________
a1.execute('update 表名 set 列名=concat(列名,"233") where 判断或比较列名="判断或比较数据"')
# 判断，如果判断成立，即在该列数据值上进行运算
a.commit()
# 提交事务，更新进程
```

+ 查询数据表数据

```python
a1.execute('select * from 表名')
# 打印该表所有的数据
__________________________________________________________________________________________
a1.execute('select 列名,列名 from 表名')
# 打印该表指定列的数据
__________________________________________________________________________________________
a1.execute('select 列名,列名,添加额外 from 表名')
# 打印该表指定列的数据，并添加额外列数据，也可定义列名
__________________________________________________________________________________________
a1.execute('select * from 表名 where 判断或比较列名="判断或比较数据"')
# 打印该表指定列的数据，并添加额外列数据，也可定义列名
__________________________________________________________________________________________
a1.execute('select * from 表名 where 列名="判断列名" and 列名="判断列名"')
# 打印该表指定列的数据，并添加额外列数据，也可定义列名
```





```sql
create database datacx default charset utf8 collate utf8_general_ci;
```

```sql
create table listcx
(
    id         int auto_increment
        primary key,
    eq_id      varchar(6) charset utf8  null,
    model_name varchar(16) charset utf8 null,
    eq_name    varchar(30) charset utf8 null,
    WS         varchar(8) charset utf8  null,
    place      varchar(16) charset utf8 null,
    mt_cycle   varchar(6) charset utf8  null,
    mt_date    varchar(16) charset utf8 null,
    schedule   int                      null,
    principal  varchar(6) charset utf8  null,
    member     varchar(32) charset utf8 null,
    schedule_date varchar(6) charset utf8  null,
    state      varchar(6) charset utf8  null
)engine = innodb default charset = utf8;
```

```apl
#工作报告
保养日期
机台编号
机台名称
保养周期
保养成员
保养开始时间
保养结束时间
预计保养时间
实际保养时间
差异时间
预计费用
实际费用
差异费用
差异原因

#工作费用
保养日期
机台编号
保养周期
项目名称
备品名称
预计费用
时间费用
预计数量
实际数量
差异原因

```





